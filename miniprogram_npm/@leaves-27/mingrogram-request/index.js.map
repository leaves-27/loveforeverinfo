{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = class Request {\n\tconstructor(){\n\t\tthis.count = 0;\n\t}\n\tbeforeRequest(request, next){\n\t\tnext(request);\n\t}\n\tafterRequest(response, next){\n\t\tnext(response);\n\t}\n\trequest({\n\t    url = '',\n\t    method = 'get',\n\t    header = {},\n\t\tdata = {},\n\t    success = ()=>{},\n\t    fail = ()=>{},\n\t    isMock = false,\n\t    isSuccess = false\n\t  }){\n\t\tthis.beforeRequest({\n\t\t\turl,\n\t\t    method,\n\t\t    header,\n\t\t\tdata,\n\t\t    success,\n\t\t    fail,\n\t\t    isMock,\n\t\t    isSuccess\n\t\t}, (params)=>{\n\t\t\tconst options = {\n\t\t\t\t...params,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.afterRequest({\n\t\t\t\t\t\tresponse: res,\n\t\t\t\t\t\trequest: params\n\t\t\t\t\t},(response)=>{\n\t\t\t\t\t\tconst { data } = res;\n\t\t\t\t\t\tsuccess(data);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: (error) => {\n\t\t\t\t\tthis.afterRequest(error,(error)=>{\n\t\t\t\t\t\tfail(error.errMsg);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\twx.request(options);\n\t\t});\n\t}\n};;"]}